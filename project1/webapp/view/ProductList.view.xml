<mvc:View xmlns:core="sap.ui.core" 
 controllerName="project1.controller.ProductList"
 xmlns:mvc="sap.ui.core.mvc"
 xmlns="sap.m"
 xmlns:f="sap.f"
 xmlns:filterbar="sap.ui.comp.filterbar">
    <Page id="idProductListPage" title="{i18n>productListTitle}">
        <f:DynamicPage>
            <f:header>
                <f:DynamicPageHeader>
                    <f:content>
                        <filterbar:FilterBar>
                            <filterbar:filterGroupItems>
                                <filterbar:FilterGroupItem 
                                 groupName="Group1"
                                 name="Name"
                                 label="{i18n>filterName}"
                                 visibleInFilterBar="true">
                                    <filterbar:control>
                                        <SearchField></SearchField>
                                    </filterbar:control>
                                </filterbar:FilterGroupItem>

                                <filterbar:FilterGroupItem 
                                 groupName="Group1"
                                 name="Category"
                                 label="{i18n>filterCategory}"
                                 visibleInFilterBar="true">
                                    <filterbar:control>
                                        <MultiComboBox items="{categoriesModel>/categories}">
                                            <core:Item 
                                             key="{categoriesModel>id}"
                                             text="{categoriesModel>name}"/>
                                        </MultiComboBox>
                                    </filterbar:control>
                                </filterbar:FilterGroupItem>

                                <filterbar:FilterGroupItem 
                                 groupName="Group1"
                                 name="Date"
                                 label="{i18n>filterDate}"
                                 visibleInFilterBar="true">
                                    <filterbar:control>
                                        <DateRangeSelection
                                         value="{
                                            type: 'sap.ui.model.type.DateInterval',
                                            formatOptions: {
                                                pattern: 'MM/yyyy'
                                            },
                                            parts: [
                                                {
                                                    type: 'sap.ui.model.type.Date',
                                                    path: '/oDRS4Start'
                                                },
                                                {
                                                    type: 'sap.ui.model.type.Date',
                                                    path: '/oDRS4End'
                                                }
                                            ]
                                         }">
                                        </DateRangeSelection>
                                    </filterbar:control>
                                </filterbar:FilterGroupItem>
                                
                                <filterbar:FilterGroupItem 
                                 groupName="Group1"
                                 name="Suppliers"
                                 label="{i18n>filterSupplier}"
                                 visibleInFilterBar="true">
                                    <filterbar:control>
                                        <Input 
                                         showSuggestion="true"
                                         suggestionItems="{suppliersModel>/suppliers}">
                                            <core:ListItem
                                                text="{suppliersModel>name}"/>
                                        </Input>
                                    </filterbar:control>
                                </filterbar:FilterGroupItem>
                            </filterbar:filterGroupItems>
                        </filterbar:FilterBar>
                    </f:content>
                </f:DynamicPageHeader>
            </f:header>
                
            <f:content>
                <Table
                 id="idProductsTable"
                 items="{productsModel>/products}" 
                 mode="MultiSelect" 
                 selectionChange="onProductsTableSelectionChange">
                    <headerToolbar>
                        <Toolbar>
                            <Button text="{i18n>buttonCreate}"></Button>
                            <Button 
                             press="onDeleteButtonPress"
                             text="{i18n>buttonDelete}" 
                             enabled="{deleteButtonModel>/deleteEnabled}" 
                             type="Reject">
                            </Button>
                        </Toolbar>
                    </headerToolbar>
                    <columns>
                        <Column>
                            <Text text="{i18n>tableName}"></Text>
                        </Column>

                        <Column>
                            <Text text="{i18n>tableDescription}"></Text>
                        </Column>

                        <Column>
                            <Text text="{i18n>tableReleaseDate}"></Text>
                        </Column>

                        <Column>
                            <Text text="{i18n>tablePrice}"></Text>
                        </Column>

                        <Column>
                            <Text text="{i18n>tableRating}"></Text>
                        </Column>
                    </columns>

                    <ColumnListItem
                        highlight="{
                            path: 'productsModel>discountDate',
                            formatter: '.formatter.highlightRow'
                        }">
                        <Text text="{productsModel>name}"></Text>
                        <Text text="{productsModel>description}"></Text>
                        <!-- <Text text="{productsModel>releaseDate}"></Text> -->
                        <Text text="{
                            path: 'productsModel>releaseDate',
                            type: 'sap.ui.model.type.Date',
                            formatOptions: {
                                style: 'medium',
                                source: {
                                    pattern: 'yyyy-MM-dd'
                                }
                            }
                        }">
                        </Text>
                        <ObjectNumber 
                            number="{productsModel>price}"
                            unit="$"
                            state="Success">
                        </ObjectNumber>
                        <RatingIndicator 
                            value="{productsModel>rating}" 
                            iconSize="14px"
                            editable="false">
                        </RatingIndicator>
                    </ColumnListItem>
                </Table>
            </f:content>
        </f:DynamicPage>
    </Page>
</mvc:View>