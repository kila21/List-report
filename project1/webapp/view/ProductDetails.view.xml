<mvc:View
 xmlns:tnt="sap.tnt" 
 xmlns:uxap="sap.uxap" 
 controllerName="project1.controller.ProductDetails"
 xmlns:mvc="sap.ui.core.mvc"
 xmlns="sap.m">
    <uxap:ObjectPageLayout 
     id="idObjectPageLayout" 
     showEditHeaderButton="true" 
     showFooter="{= ${viewStateModel>/editable}}">
        <uxap:headerTitle>
            <uxap:ObjectPageDynamicHeaderTitle >
                <uxap:expandedHeading>
                    <Title text="{productsModel>name}"></Title>
                </uxap:expandedHeading>

                <uxap:snappedHeading>
                    <Title text="{productsModel>name}"/>
                </uxap:snappedHeading>

                <uxap:expandedContent>
                    <Text text="{productsModel>description}"/>
                </uxap:expandedContent>

                <uxap:snappedContent>
                    <Text text="{productsModel>description}"/>
                </uxap:snappedContent> 

                <uxap:actions>
                    <Button text="Edit" press="onEditButtonPress"></Button>
                    <Button text="Delete" type="Reject" press="onDeleteButtonPress"></Button>
                </uxap:actions>       
            </uxap:ObjectPageDynamicHeaderTitle>
        </uxap:headerTitle>

        <uxap:headerContent>
            <HBox >
                <VBox class="sapUiLargeMarginEnd sapUiSmallMarginBottom">
                    <Title text="Release Information"></Title>
                    <ObjectStatus 
                    title="Total Time" 
                    text="{
                        path: 'productsModel>releaseDate',
                        formatter: '.formatter.displayTotalDays'
                    }">
                    </ObjectStatus>

                    <ObjectStatus state="{
                        path: 'productsModel>discountDate',
                        formatter: '.formatter.displaySaleWithState'
                    }" 
                    text="SALE"
                    class="sapMObjectStatusLarge">
                    </ObjectStatus>

                    <tnt:InfoLabel
                    visible="{
                        path: 'productsModel>releaseDate',
                        formatter: '.formatter.displayLabelNew'
                    }"
                    text="New">
                    </tnt:InfoLabel>
                </VBox>

                <VBox>
                    <Title text="Price"/>

                    <ObjectNumber 
                     number="{productsModel>price}"
                     unit="USD"
                     state="Success"
                     class="sapMObjectNumberLarge">
                    </ObjectNumber>
                </VBox>
            </HBox>
        </uxap:headerContent>

        <uxap:sections>
            <uxap:ObjectPageSection id="idProductDetailSection" title="Product Details">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection >
                        <uxap:blocks>
                            <mvc:XMLView viewName="project1.view.sections.ProductDetailsSection"></mvc:XMLView>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
            
            <uxap:ObjectPageSection id="idProductSuppliersSection" title="Suppliers">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection >
                         <uxap:blocks>
                            <mvc:XMLView viewName="project1.view.sections.SuppliersSection"></mvc:XMLView>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>

            <uxap:ObjectPageSection id="idProductCommentsSection" title="Comments">
                <uxap:subSections>
                    <uxap:ObjectPageSubSection >
                         <uxap:blocks>
                            <mvc:XMLView viewName="project1.view.sections.CommentsSection"></mvc:XMLView>
                        </uxap:blocks>
                    </uxap:ObjectPageSubSection>
                </uxap:subSections>
            </uxap:ObjectPageSection>
        </uxap:sections>

        <uxap:footer>
            <Bar>
                <contentLeft>
                    <Button 
                     icon="sap-icon://alert"
                     type="Negative"
                     text="{= ${message>/}.length }"
                     press="onMessagePopoverPress"/>
                </contentLeft>
                <contentRight>
                    <Button enabled="{= ${message>/}.length === 0}" text="Save" press="onSaveButtonPress"/>
                    <Button text="Cancel" type="Reject" press="onCancelButtonPress"/>
                </contentRight>
            </Bar>
        </uxap:footer>
    </uxap:ObjectPageLayout>


    <MessagePopover items="{message>/}" id="idMessagePopover">
		<MessageItem 
			type="{message>type}"
			title="{message>message}"
			subtitle="{message>additionalText}"
			description="{message>description}"/>
	</MessagePopover>
</mvc:View>